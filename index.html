<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Neon Arcade: Nightmare Edition</title>
    <link href="https://fonts.googleapis.com/css2?family=Creepster&family=Orbitron:wght@500;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --neon-pink: #ff2a6d;
            --neon-blue: #05d9e8;
            --neon-green: #39ff14;
            --neon-red: #ff0000;
            --bg-dark: #0a0a0a;
            --card-bg: #1f293a;
        }

        * { box-sizing: border-box; user-select: none; -webkit-tap-highlight-color: transparent; touch-action: manipulation; }
        
        body {
            margin: 0; padding: 0;
            background-color: var(--bg-dark);
            color: white;
            font-family: 'Orbitron', sans-serif;
            overflow: hidden;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Canvas de Fondo (Part√≠culas) */
        #bg-canvas {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1; opacity: 0.3;
        }

        /* --- PANTALLAS Y CONTENEDORES --- */
        .screen-container {
            display: none; /* Ocultos por defecto */
            flex-direction: column;
            height: 100%;
            width: 100%;
            animation: fadeIn 0.5s ease-in-out;
        }

        .screen-container.active {
            display: flex;
        }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* Headers y Botones de Volver */
        header {
            text-align: center; padding: 10px; z-index: 10;
            display: flex; justify-content: space-between; align-items: center;
            background: rgba(0,0,0,0.5);
        }

        h1.game-title {
            font-family: 'Creepster', cursive; margin: 0; font-size: 1.8rem;
            color: var(--neon-red); letter-spacing: 2px;
            text-shadow: 0 0 10px var(--neon-red);
        }

        .back-btn {
            background: transparent; border: 1px solid white; color: white;
            padding: 5px 15px; border-radius: 20px; cursor: pointer;
            font-family: 'Orbitron', sans-serif;
        }

        /* --- MEN√ö PRINCIPAL --- */
        #main-menu {
            justify-content: center; align-items: center; text-align: center;
        }

        #main-menu h1 {
            font-family: 'Creepster', cursive; font-size: 3.5rem; color: var(--neon-red);
            text-shadow: 0 0 20px var(--neon-red), 0 0 40px var(--neon-pink);
            animation: pulseSpooky 2s infinite;
        }

        .menu-card {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid var(--neon-blue);
            padding: 30px; margin: 20px; border-radius: 15px;
            cursor: pointer; transition: all 0.3s;
            width: 80%; max-width: 400px;
            box-shadow: 0 0 15px var(--neon-blue) inset;
        }
        .menu-card:hover { transform: scale(1.05); background: rgba(5, 217, 232, 0.2); }
        .menu-card h2 { margin: 0; font-size: 1.5rem; }
        .menu-card p { font-size: 3rem; margin: 10px 0; }

        .menu-card.bull-theme { border-color: var(--neon-red); box-shadow: 0 0 15px var(--neon-red) inset; }
        .menu-card.bull-theme:hover { background: rgba(255, 0, 0, 0.2); }
        
        #start-audio-btn {
            margin-top: 20px; padding: 10px 20px; background: var(--neon-green); border: none; color: black; font-weight: bold; border-radius: 5px; cursor: pointer;
            animation: pulse 1s infinite;
        }

        /* --- JUEGO 1: MEMORIA (Modificaciones) --- */
        .stats { display: flex; gap: 15px; justify-content: center; font-size: 1rem; color: var(--neon-blue); }
        
        #memory-board {
            display: grid; gap: 5px; padding: 10px;
            perspective: 1000px; flex-grow: 1; align-content: center; justify-content: center;
            margin: auto; max-width: 600px; width: 100%;
        }

        /* Cartas m√°s peque√±as para la dificultad Demente */
        .card {
            background-color: transparent; width: 100%; aspect-ratio: 1 / 1;
            perspective: 1000px; cursor: pointer; position: relative;
        }
        .card-inner {
            position: relative; width: 100%; height: 100%; text-align: center;
            transition: transform 0.5s; transform-style: preserve-3d; border-radius: 8px;
        }
        .card.flipped .card-inner { transform: rotateY(180deg); }
        .card.matched .card-inner { box-shadow: 0 0 15px var(--neon-green); }
        
        .card-front, .card-back {
            position: absolute; width: 100%; height: 100%; backface-visibility: hidden;
            display: flex; align-items: center; justify-content: center;
            border-radius: 8px; border: 1px solid rgba(255,255,255,0.2);
        }
        .card-front { background: #161b22; color: rgba(255,255,255,0.2); }
        .card-front::after { content: '?'; font-weight: 900; }
        .card-back {
            background: #1f293a; color: white; transform: rotateY(180deg);
            font-size: 2rem; border: 1px solid var(--neon-blue);
        }

        /* Ajuste din√°mico de fuente para grid 6x6 */
        #memory-board.extreme-mode .card-back { font-size: 1.5rem; }

        #memory-difficulty-overlay {
            position: absolute; top:0; left:0; width:100%; height:100%;
            background: rgba(0,0,0,0.9); z-index: 50; display: flex; flex-direction: column;
            justify-content: center; align-items: center;
        }

        /* --- JUEGO 2: TORO LOCO --- */
        #bull-game-container {
            background: radial-gradient(circle at center, #2a0000 0%, #000000 100%);
        }
        #bull-stats { color: var(--neon-red); font-size: 1.2rem; margin-bottom: 10px; }
        
        #bull-grid {
            display: grid; grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(3, 1fr);
            gap: 10px; padding: 20px; margin: auto; aspect-ratio: 1/1; width: 100%; max-width: 500px;
        }
        
        .hole {
            background: rgba(255, 0, 0, 0.1); border: 2px solid var(--neon-red);
            border-radius: 50%; position: relative; overflow: hidden;
            box-shadow: inset 0 0 20px var(--neon-red);
        }
        
        .bull-target {
            position: absolute; top: 100%; left: 0; width: 100%; height: 100%;
            display: flex; justify-content: center; align-items: center;
            font-size: 4rem; transition: top 0.1s ease-out;
            filter: drop-shadow(0 0 10px var(--neon-red));
        }
        
        .hole.active .bull-target { top: 0; }
        .hole.whacked .bull-target { filter: grayscale(100%) brightness(200%); transform: scale(0.9); }

        /* Botones y Modales Comunes */
        .btn {
            background: transparent; border: 2px solid var(--neon-blue); color: var(--neon-blue);
            padding: 12px 30px; margin: 8px; font-size: 1.2rem; font-family: 'Orbitron', sans-serif;
            border-radius: 50px; cursor: pointer; transition: all 0.3s ease; width: 220px;
        }
        .btn:hover { background: var(--neon-blue); color: black; box-shadow: 0 0 20px var(--neon-blue); }
        .btn-red { border-color: var(--neon-red); color: var(--neon-red); }
        .btn-red:hover { background: var(--neon-red); color: black; box-shadow: 0 0 20px var(--neon-red); }

        .modal {
            display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            background: rgba(20, 0, 0, 0.95); padding: 30px; border-radius: 20px;
            border: 3px solid var(--neon-red); box-shadow: 0 0 50px var(--neon-red);
            text-align: center; z-index: 200; width: 90%; max-width: 400px;
        }

        @keyframes pulseSpooky { 0%, 100% { opacity: 1; } 50% { opacity: 0.8; text-shadow: 0 0 10px var(--neon-red); } }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
    </style>
</head>
<body>

    <canvas id="bg-canvas"></canvas>

    <div id="main-menu" class="screen-container active">
        <h1>NEON<br>ARCADE</h1>
        <p style="color: var(--neon-red); font-family: 'Creepster';">Edici√≥n Pesadilla</p>
        
        <button id="start-audio-btn" onclick="initAudioContext()">CLICK PARA ACTIVAR SONIDO üîä</button>

        <div class="menu-card" onclick="enterGame('memory')">
            <h2>MEMORIA NE√ìN</h2>
            <p>üß†üíéü¶Ñ</p>
            <span style="color: var(--neon-blue); font-size: 0.8rem;">Ahora con nivel DEMENTE</span>
        </div>

        <div class="menu-card bull-theme" onclick="enterGame('bull')">
            <h2>TORO LOCO EMBRUJADO</h2>
            <p>üëøüêÇüí®</p>
            <span style="color: var(--neon-red); font-size: 0.8rem;">¬°Dale r√°pido antes que escape!</span>
        </div>
    </div>


    <div id="memory-game-container" class="screen-container">
        <header>
            <button class="back-btn" onclick="goBackToMenu()">‚¨Ö Volver</button>
            <h1 class="game-title" style="color: var(--neon-blue); text-shadow: 0 0 10px var(--neon-blue)">MEMORIA</h1>
            <div></div> </header>
        <div class="stats">
            <span id="mem-moves">Movs: 0</span>
            <span id="mem-timer">Tiempo: 00:00</span>
        </div>
        <div id="memory-board"></div>

        <div id="memory-difficulty-overlay">
            <h2 style="color: var(--neon-blue); margin-bottom: 30px;">ELIGE DIFICULTAD</h2>
            <button class="btn" onclick="startMemoryGame('medium')">NORMAL (16)</button>
            <button class="btn" onclick="startMemoryGame('hard')">DIF√çCIL (20)</button>
            <button class="btn btn-red" style="font-weight: bold; border-width: 3px;" onclick="startMemoryGame('extreme')">ü§Ø DEMENTE (36) ü§Ø</button>
        </div>
    </div>


    <div id="bull-game-container" class="screen-container">
        <header>
            <button class="back-btn" onclick="goBackToMenu()">‚¨Ö Volver</button>
            <h1 class="game-title">TORO LOCO</h1>
            <div></div>
        </header>
        <div id="bull-stats" style="text-align: center;">
            Puntos: <span id="bull-score">0</span> | Tiempo: <span id="bull-timer">30</span>s
        </div>
        
        <div id="bull-grid">
            </div>
        <div style="text-align: center; color: #fff; padding: 10px;">¬°Toca al toro rojo!</div>
    </div>

    <div id="general-modal" class="modal">
        <h2 id="modal-title">¬°JUEGO TERMINADO!</h2>
        <p id="modal-msg" style="font-size: 1.2rem; margin-bottom: 20px;"></p>
        <button class="btn btn-red" onclick="closeModal()">Cerrar</button>
    </div>


    <script>
        // ==========================================
        // --- SISTEMA DE AUDIO PROFESIONAL (Web Audio API) ---
        // ==========================================
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        let ambientOsc, ambientGain;

        function initAudioContext() {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            document.getElementById('start-audio-btn').style.display = 'none';
            startAmbientScarySound();
        }

        function startAmbientScarySound() {
            // Zumbido grave e inquietante
            ambientOsc = audioCtx.createOscillator();
            ambientGain = audioCtx.createGain();
            ambientOsc.type = 'sine';
            ambientOsc.frequency.setValueAtTime(55, audioCtx.currentTime); // Nota muy grave (La0)
            
            // Modulaci√≥n de volumen lenta para dar sensaci√≥n de "respiraci√≥n"
            ambientGain.gain.setValueAtTime(0.05, audioCtx.currentTime);
            ambientGain.gain.setTargetAtTime(0.15, audioCtx.currentTime + 1, 3);
            
            ambientOsc.connect(ambientGain);
            ambientGain.connect(audioCtx.destination);
            ambientOsc.start();
        }

        function stopAmbientSound() {
            if(ambientOsc) {
                 ambientGain.gain.setTargetAtTime(0, audioCtx.currentTime, 0.5);
                 setTimeout(() => ambientOsc.stop(), 600);
            }
        }

        function playSoundEffect(type) {
            if (audioCtx.state === 'suspended') return;
            const osc = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            osc.connect(gainNode);
            gainNode.connect(audioCtx.destination);

            switch(type) {
                case 'terror_scream': // Ruido blanco + barrido r√°pido (Glitch Scream)
                    stopAmbientSound(); // Parar el ambiente al entrar
                    osc.type = 'sawtooth';
                    osc.frequency.setValueAtTime(50, audioCtx.currentTime);
                    osc.frequency.exponentialRampToValueAtTime(2000, audioCtx.currentTime + 0.4);
                    gainNode.gain.setValueAtTime(0, audioCtx.currentTime);
                    gainNode.gain.linearRampToValueAtTime(0.3, audioCtx.currentTime + 0.1);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.8);
                    osc.start(); osc.stop(audioCtx.currentTime + 0.8);
                    break;
                case 'bull_snort': // Ruido grave y corto
                    osc.type = 'square';
                    osc.frequency.setValueAtTime(80, audioCtx.currentTime);
                    osc.frequency.linearRampToValueAtTime(40, audioCtx.currentTime + 0.2);
                    gainNode.gain.setValueAtTime(0.4, audioCtx.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
                    osc.start(); osc.stop(audioCtx.currentTime + 0.3);
                    break;
                 case 'bull_hit': // Golpe seco agudo
                    osc.type = 'triangle';
                    osc.frequency.setValueAtTime(800, audioCtx.currentTime);
                    gainNode.gain.setValueAtTime(0.5, audioCtx.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.1);
                    osc.start(); osc.stop(audioCtx.currentTime + 0.1);
                    break;
                case 'flip': // Sonido suave de la memoria
                    osc.type = 'sine'; osc.frequency.setValueAtTime(400, audioCtx.currentTime);
                    gainNode.gain.setValueAtTime(0.1, audioCtx.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.1);
                    osc.start(); osc.stop(audioCtx.currentTime + 0.1); break;
                case 'match': // Campanita brillante
                    osc.type = 'triangle'; osc.frequency.setValueAtTime(600, audioCtx.currentTime);
                    osc.frequency.linearRampToValueAtTime(1200, audioCtx.currentTime + 0.1);
                    gainNode.gain.setValueAtTime(0.2, audioCtx.currentTime);
                    gainNode.gain.linearRampToValueAtTime(0.01, audioCtx.currentTime + 0.5);
                    osc.start(); osc.stop(audioCtx.currentTime + 0.5); break;
            }
        }

        // ==========================================
        // --- GESTI√ìN DE PANTALLAS Y NAVEGACI√ìN ---
        // ==========================================
        function showScreen(screenId) {
            document.querySelectorAll('.screen-container').forEach(s => s.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
        }

        function enterGame(gameType) {
            initAudioContext(); // Asegurar audio
            playSoundEffect('terror_scream');
            
            setTimeout(() => {
                if (gameType === 'memory') {
                    showScreen('memory-game-container');
                    document.getElementById('memory-difficulty-overlay').style.display = 'flex';
                    // Resetear tablero visualmente
                    document.getElementById('memory-board').innerHTML = '';
                } else if (gameType === 'bull') {
                    showScreen('bull-game-container');
                    initBullGame();
                }
            }, 500); // Peque√±o delay para el sonido de terror
        }

        function goBackToMenu() {
            stopAllGameLoops();
            showScreen('main-menu');
            startAmbientScarySound(); // Volver al sonido ambiente
            closeModal();
        }

        function closeModal() {
            document.getElementById('general-modal').style.display = 'none';
        }

        function stopAllGameLoops() {
            clearInterval(mem_timerInterval);
            clearInterval(bull_timerInt);
            clearInterval(bull_popupInt);
        }

        // ==========================================
        // --- L√ìGICA JUEGO 1: MEMORIA MEJORADA ---
        // ==========================================
        const mem_emojis = ['ü¶Ñ', 'üëΩ', 'üçï', 'üöÄ', 'üê±', 'üåà', 'üç¶', 'üíé', 'üéÆ', 'ü¶ï', '‚ö°', 'üéÅ', 'üç≠', 'ü§ñ', 'üçÑ', 'üî•', 'üëæ', 'ü™ê'];
        let mem_grid = [], mem_firstCard = null, mem_secondCard = null, mem_lockBoard = false;
        let mem_moves = 0, mem_matches = 0, mem_totalPairs = 0;
        let mem_timerInterval, mem_startTime;
        const mem_boardEl = document.getElementById('memory-board');

        function startMemoryGame(difficulty) {
            document.getElementById('memory-difficulty-overlay').style.display = 'none';
            let cols, rows;
            mem_boardEl.classList.remove('extreme-mode');

            if (difficulty === 'medium') { cols = 4; rows = 4; }
            else if (difficulty === 'hard') { cols = 4; rows = 5; }
            else if (difficulty === 'extreme') { 
                cols = 6; rows = 6; 
                mem_boardEl.classList.add('extreme-mode'); // Clase para achicar cartas
            }

            mem_totalPairs = (rows * cols) / 2;
            mem_boardEl.style.gridTemplateColumns = `repeat(${cols}, 1fr)`;

            const selected = mem_emojis.slice(0, mem_totalPairs);
            mem_grid = [...selected, ...selected].sort(() => 0.5 - Math.random());

            mem_boardEl.innerHTML = '';
            mem_grid.forEach(emoji => {
                const card = document.createElement('div');
                card.className = 'card';
                card.dataset.emoji = emoji;
                card.innerHTML = `<div class="card-inner"><div class="card-front"></div><div class="card-back">${emoji}</div></div>`;
                card.addEventListener('click', flipMemCard);
                mem_boardEl.appendChild(card);
            });

            mem_moves = 0; mem_matches = 0;
            document.getElementById('mem-moves').innerText = 'Movs: 0';
            mem_startTime = Date.now();
            clearInterval(mem_timerInterval);
            mem_timerInterval = setInterval(updateMemTimer, 1000);
        }

        function updateMemTimer() {
            const elapsed = Math.floor((Date.now() - mem_startTime) / 1000);
            document.getElementById('mem-timer').innerText = `Tiempo: ${String(Math.floor(elapsed/60)).padStart(2,'0')}:${String(elapsed%60).padStart(2,'0')}`;
        }

        function flipMemCard() {
            if (mem_lockBoard || this === mem_firstCard || this.classList.contains('matched')) return;
            this.classList.add('flipped');
            playSoundEffect('flip');

            if (!mem_firstCard) { mem_firstCard = this; return; }
            mem_secondCard = this;
            mem_moves++;
            document.getElementById('mem-moves').innerText = `Movs: ${mem_moves}`;
            
            if (mem_firstCard.dataset.emoji === mem_secondCard.dataset.emoji) {
                mem_firstCard.classList.add('matched'); mem_secondCard.classList.add('matched');
                playSoundEffect('match');
                mem_matches++;
                mem_firstCard = null; mem_secondCard = null;
                if (mem_matches === mem_totalPairs) endGame('¬°MEMORIA COMPLETADA!', `Lo lograste en ${mem_moves} movimientos.`);
            } else {
                mem_lockBoard = true;
                setTimeout(() => {
                    mem_firstCard.classList.remove('flipped'); mem_secondCard.classList.remove('flipped');
                    mem_lockBoard = false; mem_firstCard = null; mem_secondCard = null;
                }, 1000);
            }
        }

        // ==========================================
        // --- L√ìGICA JUEGO 2: TORO LOCO (Whack-a-Mole) ---
        // ==========================================
        let bull_score = 0;
        let bull_timeLeft = 30;
        let bull_lastHole;
        let bull_isBusy = false;
        let bull_popUpSpeed = 1500; // Velocidad inicial
        let bull_timerInt, bull_popupInt;
        const bull_holes = [];

        function initBullGame() {
            const grid = document.getElementById('bull-grid');
            grid.innerHTML = '';
            bull_holes.length = 0;
            // Crear cuadr√≠cula 3x3
            for (let i = 0; i < 9; i++) {
                const hole = document.createElement('div');
                hole.className = 'hole';
                const bull = document.createElement('div');
                bull.className = 'bull-target';
                bull.innerText = 'üëø'; // Toro endemoniado
                bull.addEventListener('click', whackBull);
                hole.appendChild(bull);
                grid.appendChild(hole);
                bull_holes.push(hole);
            }

            bull_score = 0;
            bull_timeLeft = 30;
            bull_popUpSpeed = 1500;
            bull_isBusy = false;
            document.getElementById('bull-score').innerText = bull_score;
            document.getElementById('bull-timer').innerText = bull_timeLeft;

            clearInterval(bull_timerInt);
            clearInterval(bull_popupInt);
            bull_timerInt = setInterval(updateBullTimer, 1000);
            bull_popupInt = setTimeout(popBullUp, 1000);
        }

        function randomHole() {
            const idx = Math.floor(Math.random() * bull_holes.length);
            const hole = bull_holes[idx];
            if (hole === bull_lastHole) return randomHole();
            bull_lastHole = hole;
            return hole;
        }

        function popBullUp() {
            if(bull_timeLeft <= 0) return;
            const hole = randomHole();
            hole.classList.add('active');
            playSoundEffect('bull_snort');
            bull_isBusy = false;

            // Tiempo que se queda arriba (var√≠a un poco)
            const stayUpTime = Math.random() * 800 + 400; 

            setTimeout(() => {
                hole.classList.remove('active');
                if (bull_timeLeft > 0) {
                    // Programar el siguiente salto
                    bull_popupInt = setTimeout(popBullUp, bull_popUpSpeed);
                }
            }, stayUpTime);
        }

        function whackBull(e) {
            if(bull_isBusy) return;
            const hole = e.target.parentElement;
            if(!hole.classList.contains('active')) return;

            bull_isBusy = true;
            bull_score++;
            hole.classList.remove('active');
            hole.classList.add('whacked');
            playSoundEffect('bull_hit');
            document.getElementById('bull-score').innerText = bull_score;
            
            // Aumentar dificultad (velocidad) con cada acierto
            if(bull_popUpSpeed > 500) bull_popUpSpeed -= 50; 

            setTimeout(() => hole.classList.remove('whacked'), 200);
        }

        function updateBullTimer() {
            bull_timeLeft--;
            document.getElementById('bull-timer').innerText = bull_timeLeft;
            if (bull_timeLeft <= 0) {
                stopAllGameLoops();
                endGame('¬°TIEMPO FUERA!', `Atrapaste al toro ${bull_score} veces.`);
            }
        }

        // --- FUNCI√ìN FINAL COM√öN ---
        function endGame(title, msg) {
            stopAllGameLoops();
            document.getElementById('modal-title').innerText = title;
            document.getElementById('modal-msg').innerText = msg;
            document.getElementById('general-modal').style.display = 'block';
        }

        // ==========================================
        // --- FONDO DE PART√çCULAS (Adaptado a rojo/azul) ---
        // ==========================================
        const canvas = document.getElementById('bg-canvas');
        const ctx = canvas.getContext('2d');
        function resizeCanvas() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
        window.addEventListener('resize', resizeCanvas); resizeCanvas();
        
        let particles = [];
        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width; this.y = Math.random() * canvas.height;
                this.size = Math.random() * 2; this.speedX = Math.random() * 1 - 0.5; this.speedY = Math.random() * 1 - 0.5;
                // Colores rojo ne√≥n y azul ne√≥n
                this.color = Math.random() > 0.5 ? '#ff0000' : '#05d9e8';
            }
            update() { this.x += this.speedX; this.y += this.speedY; if(this.x<0||this.x>canvas.width) this.speedX*=-1; if(this.y<0||this.y>canvas.height) this.speedY*=-1; }
            draw() { ctx.fillStyle = this.color; ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI*2); ctx.fill(); }
        }
        function animateParticles() {
            ctx.clearRect(0,0,canvas.width,canvas.height);
            while(particles.length < 60) particles.push(new Particle());
            particles.forEach(p => { p.update(); p.draw(); });
            requestAnimationFrame(animateParticles);
        }
        animateParticles();

    </script>
</body>
</html>